---
layout: default
---

<div class="home">
  {%- if page.title -%}
  <h1 class="page-heading">{{ page.title }}</h1>
  {%- endif -%}

  {{ content }}
  <div class="subscription">
    <div class="subscription-content">
      If you find these posts valuable, you can subscribe to the newsletter here!
      <form action="https://buttondown.email/api/emails/embed-subscribe/efekarakus" method="post" target="popupwindow"
        onsubmit="window.open('https://buttondown.email/efekarakus', 'popupwindow')" class="embeddable-buttondown-form">
        <input class="email" type="email" name="email" id="bd-email" placeholder="Email address">
        <input type="hidden" value="1" name="embed"></input>
        <input class="subscribe" type="submit" value="Subscribe"></input>
      </form>
    </div>
  </div>
  {%- if site.posts.size > 0 -%}
  <h2 class="post-list-heading">{{ page.list_title | default: "Posts" }}</h2>
  <ul class="post-list">
    {%- assign visible_posts = site.posts | slice: 0, 15 -%}
    {%- for post in visible_posts -%}
    <li>
      <div class="post-title-wrapper">
        {%- if post.favorite -%}
        <span class="favorite">★ </span>
        {%- endif -%}
        <a class="post-link" href="{{ post.url | relative_url }}">
          {{ post.title | escape }}
        </a>
        {%- assign date_format = site.minima.date_format | default: "%b %-d, %Y" -%}
        <span class="post-meta"> {{ post.date | date: date_format }}</span>
      </div>
      {%- if post.tagline -%}
      <div class="post-tagline">{{ post.tagline }}</div>
      {%- endif -%}
    </li>
    {%- endfor -%}
  </ul>
  {%- if site.posts.size > 15 -%}
  <div class="more-articles">
    <a href="javascript:void(0)" id="more-articles-link">{{ site.posts.size | minus: 15 }} more articles...</a>
  </div>
  <ul class="post-list hidden" id="more-posts-list">
    {%- assign remaining_posts = site.posts | slice: 15, 1000 -%}
    {%- for post in remaining_posts -%}
    <li>
      <div class="post-title-wrapper">
        {%- if post.favorite -%}
        <span class="favorite">★ </span>
        {%- endif -%}
        <a class="post-link" href="{{ post.url | relative_url }}">
          {{ post.title | escape }}
        </a>
        {%- assign date_format = site.minima.date_format | default: "%b %-d, %Y" -%}
        <span class="post-meta"> {{ post.date | date: date_format }}</span>
      </div>
      {%- if post.tagline -%}
      <div class="post-tagline">{{ post.tagline }}</div>
      {%- endif -%}
    </li>
    {%- endfor -%}
  </ul>
  {%- endif -%}
  {%- endif -%}

  <script type="text/javascript">
    document.addEventListener('DOMContentLoaded', function() {
      const linkContainer = document.querySelector('.more-articles');
      const link = document.getElementById('more-articles-link');
      const list = document.getElementById('more-posts-list');

      if (link && list && linkContainer) {
        link.addEventListener('click', function(e) {
          e.preventDefault();
          list.classList.toggle('hidden');

          // Force reflow to ensure the browser updates the layout
          void list.offsetHeight;

          if (list.classList.contains('hidden')) {
            link.textContent = '{{ site.posts.size | minus: 15 }} more articles...';
            // Move link back before the list
            list.parentNode.insertBefore(linkContainer, list);
          } else {
            link.textContent = 'Show fewer articles';
            // Move link after the list
            list.parentNode.insertBefore(linkContainer, list.nextSibling);
          }
        });
      }
    });
  </script>

</div>